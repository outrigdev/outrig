// Copyright 2025, Command Line Inc.
// SPDX-License-Identifier: Apache-2.0

// generated by cmd/generate/main-generatets.go

declare global {

    // rpctypes.AppRunGoRoutinesByIdsRequest
    type AppRunGoRoutinesByIdsRequest = {
        apprunid: string;
        goids: number[];
    };

    // rpctypes.AppRunGoRoutinesData
    type AppRunGoRoutinesData = {
        apprunid: string;
        appname: string;
        goroutines: ParsedGoRoutine[];
    };

    // rpctypes.AppRunInfo
    type AppRunInfo = {
        apprunid: string;
        appname: string;
        starttime: number;
        isrunning: boolean;
        status: string;
        numlogs: number;
        numtotalgoroutines: number;
        numactivegoroutines: number;
        numoutriggoroutines: number;
        numactivewatches: number;
        numtotalwatches: number;
        lastmodtime: number;
        buildinfo?: BuildInfoData;
        modulename?: string;
        executable?: string;
        outrigsdkversion?: string;
    };

    // rpctypes.AppRunRequest
    type AppRunRequest = {
        apprunid: string;
        since?: number;
    };

    // rpctypes.AppRunRuntimeStatsData
    type AppRunRuntimeStatsData = {
        apprunid: string;
        appname: string;
        numtotalgoroutines: number;
        numactivegoroutines: number;
        numoutriggoroutines: number;
        stats: RuntimeStatData[];
    };

    // rpctypes.AppRunUpdatesRequest
    type AppRunUpdatesRequest = {
        since: number;
    };

    // rpctypes.AppRunWatchesByIdsRequest
    type AppRunWatchesByIdsRequest = {
        apprunid: string;
        watchids: number[];
    };

    // rpctypes.AppRunWatchesData
    type AppRunWatchesData = {
        apprunid: string;
        appname: string;
        watches: CombinedWatchSample[];
    };

    // rpctypes.AppRunsData
    type AppRunsData = {
        appruns: AppRunInfo[];
    };

    // rpctypes.BrowserTabUrlData
    type BrowserTabUrlData = {
        url: string;
        apprunid?: string;
        focused: boolean;
        autofollow: boolean;
    };

    // rpctypes.BuildInfoData
    type BuildInfoData = {
        goversion: string;
        path: string;
        version?: string;
        settings?: {[key: string]: string};
    };

    // rpctypes.CombinedWatchSample
    type CombinedWatchSample = {
        watchnum: number;
        decl: WatchDecl;
        sample: WatchSample;
    };

    // rpctypes.CommandMessageData
    type CommandMessageData = {
        message: string;
    };

    // rpctypes.EventCommonFields
    type EventCommonFields = {
        scopes?: string[];
        sender?: string;
        persist?: number;
    };

    // rpctypes.EventReadHistoryData
    type EventReadHistoryData = {
        event: string;
        scope: string;
        maxitems: number;
    };

    // EventType union (rpctypes.EventToTypeMap)
    type EventType = 
        | (EventCommonFields & { event: "app:statusupdate"; data: StatusUpdateData })
        | (EventCommonFields & { event: "route:down"; data?: null })
        | (EventCommonFields & { event: "route:up"; data?: null })
    ;

    // rpctypes.GoRoutineSearchRequestData
    type GoRoutineSearchRequestData = {
        apprunid: string;
        searchterm: string;
        systemquery?: string;
    };

    // rpctypes.GoRoutineSearchResultData
    type GoRoutineSearchResultData = {
        searchedcount: number;
        totalcount: number;
        results: number[];
        errorspans?: SearchErrorSpan[];
    };

    // ds.LogLine
    type LogLine = {
        linenum: number;
        ts: number;
        msg: string;
        source?: string;
    };

    // rpctypes.LogWidgetAdminData
    type LogWidgetAdminData = {
        widgetid: string;
        drop?: boolean;
        keepalive?: boolean;
    };

    // rpctypes.MarkedLinesData
    type MarkedLinesData = {
        widgetid: string;
        markedlines: {[key: string]: boolean};
        clear?: boolean;
    };

    // rpctypes.MarkedLinesRequestData
    type MarkedLinesRequestData = {
        widgetid: string;
    };

    // rpctypes.MarkedLinesResultData
    type MarkedLinesResultData = {
        lines: LogLine[];
    };

    // ds.MemoryStatsInfo
    type MemoryStatsInfo = {
        alloc: number;
        totalalloc: number;
        sys: number;
        heapalloc: number;
        heapsys: number;
        heapidle: number;
        heapinuse: number;
        stackinuse: number;
        stacksys: number;
        mspaninuse: number;
        mspansys: number;
        mcacheinuse: number;
        mcachesys: number;
        gcsys: number;
        othersys: number;
        nextgc: number;
        lastgc: number;
        pausetotalns: number;
        numgc: number;
        totalheapobj: number;
        totalheapobjfree: number;
    };

    // rpctypes.PageData
    type PageData = {
        pagenum: number;
        lines: LogLine[];
    };

    // rpctypes.ParsedGoRoutine
    type ParsedGoRoutine = {
        goid: number;
        name?: string;
        tags?: string[];
        firstseen?: number;
        lastseen?: number;
        active: boolean;
        rawstacktrace: string;
        rawstate: string;
        primarystate: string;
        statedurationms?: number;
        stateduration?: string;
        parsedframes?: StackFrame[];
        createdbygoid?: number;
        createdbyframe?: StackFrame;
        parsed: boolean;
        parseerror?: string;
    };

    // rpc.RpcMessage
    type RpcMessage = {
        command?: string;
        reqid?: string;
        resid?: string;
        timeout?: number;
        route?: string;
        authtoken?: string;
        source?: string;
        cont?: boolean;
        cancel?: boolean;
        error?: string;
        datatype?: string;
        data?: any;
    };

    // rpc.RpcOpts
    type RpcOpts = {
        timeout?: number;
        noresponse?: boolean;
        route?: string;
    };

    // rpctypes.RuntimeStatData
    type RuntimeStatData = {
        ts: number;
        goroutinecount: number;
        gomaxprocs: number;
        numcpu: number;
        goos: string;
        goarch: string;
        goversion: string;
        pid: number;
        cwd: string;
        memstats: MemoryStatsInfo;
    };

    // rpctypes.SearchErrorSpan
    type SearchErrorSpan = {
        start: number;
        end: number;
        errormessage: string;
    };

    // rpctypes.SearchRequestData
    type SearchRequestData = {
        widgetid: string;
        apprunid: string;
        searchterm: string;
        systemquery?: string;
        pagesize: number;
        requestpages: number[];
        streaming: boolean;
    };

    // rpctypes.SearchResultData
    type SearchResultData = {
        filteredcount: number;
        searchedcount: number;
        totalcount: number;
        maxcount: number;
        pages: PageData[];
        errorspans?: SearchErrorSpan[];
    };

    // rpctypes.ServerCommandMeta
    type ServerCommandMeta = {
        commandtype: string;
    };

    // rpctypes.StackFrame
    type StackFrame = {
        package: string;
        funcname: string;
        funcargs?: string;
        filepath: string;
        linenumber: number;
        pcoffset?: string;
        isimportant?: boolean;
        issys?: boolean;
    };

    // rpctypes.StatusUpdateData
    type StatusUpdateData = {
        appid: string;
        status: string;
        numloglines: number;
        numgoroutines: number;
    };

    // rpctypes.StreamUpdateData
    type StreamUpdateData = {
        widgetid: string;
        filteredcount: number;
        searchedcount: number;
        totalcount: number;
        trimmedlines: number;
        offset: number;
        lines: LogLine[];
    };

    // rpctypes.SubscriptionRequest
    type SubscriptionRequest = {
        event: string;
        scopes?: string[];
        allscopes?: boolean;
    };

    // rpctypes.TEventFeData
    type TEventFeData = {
        event: string;
        props: TEventFeProps;
    };

    // rpctypes.TEventFeProps
    type TEventFeProps = {
        "frontend:tab"?: string;
        "frontend:logsearchfeatures"?: string[];
        "frontend:searchlatency"?: number;
        "frontend:searchitems"?: number;
        "frontend:clicktype"?: string;
    };

    // rpctypes.UpdateCheckData
    type UpdateCheckData = {
        newerversion: string;
    };

    // ds.WatchDecl
    type WatchDecl = {
        name: string;
        tags?: string[];
        newline?: string;
        watchtype: string;
        format: string;
        counter?: boolean;
        invalid?: boolean;
        unregistered?: boolean;
    };

    // ds.WatchSample
    type WatchSample = {
        name: string;
        ts: number;
        same?: boolean;
        kind?: number;
        type?: string;
        val?: string;
        error?: string;
        addr?: string[];
        cap?: number;
        len?: number;
        fmt?: string;
        polldur?: number;
    };

    // rpctypes.WatchSearchRequestData
    type WatchSearchRequestData = {
        apprunid: string;
        searchterm: string;
        systemquery?: string;
    };

    // rpctypes.WatchSearchResultData
    type WatchSearchResultData = {
        searchedcount: number;
        totalcount: number;
        results: number[];
        errorspans?: SearchErrorSpan[];
    };

}

export {}
